<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CPP Function Generator</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="container">
      <h1>CPP Function Generator</h1>
      <p>Masukkan nilai <strong>mid</strong> dan toleransi untuk menghasilkan fungsi C++.</p>
      <form id="generator-form">
        <label for="mid">Nilai Mid:</label>
        <input type="number" id="mid" name="mid" required />
        <br /><br />

        <label for="tolerance">Toleransi:</label>
        <input type="number" id="tolerance" name="tolerance" required />
        <br /><br />

        <button type="button" onclick="generateFunction()">Generate</button>
      </form>

      <h2>Hasil:</h2>
      <textarea id="output" readonly></textarea>
    </div>

    <script>
      function generateFunction() {
        const mid = parseInt(document.getElementById("mid").value);
        const tolerance = parseInt(document.getElementById("tolerance").value);

        const leftLimit = (mid - tolerance + 360) % 360;
        const rightLimit = (mid + tolerance) % 360;
        const behind = (mid + 180) % 360;

        // console.log(leftLimit, rightLimit, behind);

        let condition;
        if (leftLimit > rightLimit) {
          condition = `if ((mag >= leftLimit) || (mag <= rightLimit)) {
    // Arah depan
}`;
        } else {
          condition = `if ((mag >= leftLimit) && (mag <= rightLimit)) {
    // Arah depan
}`;
        }

        let condition2;
        if (rightLimit < behind) {
          condition2 = `else if ((mag > rightLimit) && (mag < Behind)) {
    // Arah kanan
}`;
        } else {
          condition2 = `else if ((mag > rightLimit) || (mag < Behind)) {
    // Arah kanan
}`;
        }

        const functionCode = `int mid = ${mid};
int leftLimit = (mid - ${tolerance} + 360) % 360; // Batas awal arah lurus
int rightLimit = (mid + ${tolerance}) % 360;     // Batas akhir arah lurus
int Behind = (mid + 180) % 360;        // Batas akhir arah kanan

${condition}
${condition2}
else {
    // Arah kiri
}`;

        document.getElementById("output").value = functionCode;
      }
    </script>
  </body>
</html>
